{"version":3,"file":"characters-lib.js.map","sources":["ng://characters-lib/lib/models/character.model.ts","ng://characters-lib/lib/characters-lib.service.ts","ng://characters-lib/lib/components/characters-home/characters-home.component.ts","ng://characters-lib/lib/components/characters-profile/characters-profile.component.ts","ng://characters-lib/lib/components/characters-collection/characters-collection.component.ts","ng://characters-lib/lib/characters-lib.module.ts"],"sourcesContent":["import { Phenotype } from './phenotype.model';\n\nexport class Character {\n  uuid = null;\n  name = 'Default Character';\n  dob = 123;\n  species = 'Human';\n  phenotype: Phenotype;\n  category = ['General'];\n}\n","import { Injectable, OnInit } from '@angular/core';\nimport { LocalStorageService } from 'ngx-store';\nimport { DatasetsLibService } from 'datasets-lib';\nimport { UuidService } from 'shared-lib';\n\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Character } from './models/character.model';\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class CharactersLibService implements OnInit {\n  private charactersStream: BehaviorSubject<Character[]>;\n  private currentStream: BehaviorSubject<Character>;\n  private initialized: boolean;\n\n  constructor(\n    public localStorageService: LocalStorageService,\n    public uuidService: UuidService,\n    private datasetService: DatasetsLibService\n    ) {\n    this.initialized = false;\n    this.charactersStream = new BehaviorSubject<Character[]>(null);\n    this.currentStream = new BehaviorSubject<Character>(null);\n  }\n\n  public get characters(): Observable<Character[]> {\n    return this.charactersStream.asObservable();\n  }\n  private setCharacters(charactersArray) {\n    this.charactersStream.next(charactersArray);\n    this.localStorageService.set('characters', charactersArray);\n  }\n\n  public getCharacter(character?): Observable<Character> {\n    if (!character) {\n      return this.charactersStream.pipe(\n        map(chrs => chrs[0])\n      );\n      }\n    return this.charactersStream.pipe(\n      map(chrs => chrs.find(chr => chr.uuid === character.uuid))\n    );\n  }\n\n  public getCharacterById(uuid: number) {\n    return this.charactersStream.pipe(\n      map(chrs => chrs.find(chr => chr.uuid === uuid))\n    );\n  }\n\n  public get current(): Observable<Character> {\n    return this.currentStream.asObservable();\n  }\n  public setCurrent(character: Character): void {\n    this.currentStream.next(character);\n    this.localStorageService.set('currentCharacter', character);\n  }\n\n  public ngOnInit() {}\n\n  public init(): Promise<any> {\n    if (!this.initialized) {\n      this.loadCharacters();\n      this.initialized = true;\n    }\n    return new Promise(resolve => {\n      resolve(this.initialized);\n    });\n  }\n  private loadCharacters(): void {\n    const charactersObs = this.datasetService.getCharacters();\n    let chrArray: any[];\n    charactersObs.subscribe(chrs => {\n      chrArray = chrs;\n      console.log(chrArray);\n      this.setCharacters(chrArray);\n      this.loadCurrent();\n      console.log('Characters loaded from SwAPI.co!');\n    });\n  }\n\n  private loadCurrent(): void {\n    let chr = this.localStorageService.get('current');\n    if (!chr) {\n      console.log('No current character in LocalStorage.');\n      this.characters.subscribe(chrs => chr = chrs[0]);\n    }\n    this.setCurrent(chr);\n    console.log('Current set to: ', chr.title);\n  }\n\n  public createCharacter(): Character {\n    const chr = new Character();\n    chr.uuid = this.uuidService.generate();\n    return chr;\n  }\n\n  public addCharacters(charactersArray) {\n    console.log('adding chrs: ', charactersArray);\n    for (const chr of charactersArray) {\n      this.uuidService.cache(chr.uuid);\n    }\n    this.setCharacters(charactersArray);\n  }\n\n  public addCharacter(character: Character) {\n    this.uuidService.cache(character.uuid);\n    const charactersArray = [ ...this.charactersStream.getValue(), character ];\n    this.setCharacters(charactersArray);\n  }\n\n  public updateCharacter(character: Character) {\n    const charactersArray = [ ...this.charactersStream.getValue()];\n    const index = charactersArray.findIndex(item => item.uuid === character.uuid);\n    charactersArray.splice(index, 1, character);\n    this.setCharacters(charactersArray);\n  }\n\n  public deleteCharacter(character: Character) {\n    const charactersArray = this.charactersStream.getValue().filter(chr => chr.uuid !== character.uuid);\n    this.uuidService.release(character.uuid);\n\n    // If deleting character leaves Characters empty, create and add new default character.\n    if (!charactersArray.length) {\n      const chr = this.createCharacter();\n      charactersArray.push(chr);\n    }\n    this.setCharacters(charactersArray);\n\n    // If current, set to first in characters list.\n    let currentUuid: string;\n    this.current.subscribe(curr => currentUuid = curr.uuid);\n    if (character.uuid === currentUuid) {\n      let chr: Character;\n      this.characters.subscribe(chrs => chr = chrs[0]);\n      this.setCurrent(chr);\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { CharactersLibService } from '../../characters-lib.service';\nimport { Character } from '../../models/character.model';\n\n@Component({\n  selector: 'characters-home',\n  templateUrl: './characters-home.component.html',\n  styleUrls: ['./characters-home.component.scss']\n})\nexport class CharactersHomeComponent implements OnInit {\n  public characters: Observable<Character[]>;\n  private _current: Observable<Character>;\n\n  constructor(\n    private charactersService: CharactersLibService\n   ) {\n    this.characters = this.charactersService.characters;\n    this._current = this.charactersService.current;\n   }\n\n  ngOnInit() {}\n\n  public get current(): any {\n    return this._current;\n   }\n   public set current(character: any) {\n     this.charactersService.setCurrent(character);\n   }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { CharactersLibService } from '../../characters-lib.service';\nimport { Character } from '../../models/character.model';\n\n@Component({\n  selector: 'characters-profile',\n  templateUrl: './characters-profile.component.html',\n  styleUrls: ['./characters-profile.component.scss']\n})\nexport class CharactersProfileComponent implements OnInit {\n  public current: Observable<Character>;\n\n  constructor(\n    private charactersLibService: CharactersLibService\n    ) {\n    this.current = this.charactersLibService.current;\n    }\n\n  ngOnInit() {\n    console.log(this.current);\n  }\n\n}\n","import { Component, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\nimport { CharactersLibService } from '../../characters-lib.service';\nimport { Character } from '../../models/character.model';\n\n@Component({\n  selector: 'characters-collection',\n  templateUrl: './characters-collection.component.html',\n  styleUrls: ['./characters-collection.component.scss']\n})\nexport class CharactersCollectionComponent {\n  @Input() characters: Observable<any[]>;\n  public cols: Observable<number>;\n\n  constructor(\n    private router: Router,\n    private breakpointObserver: BreakpointObserver,\n    private charactersLibService: CharactersLibService\n    ) {\n    this.characters = this.charactersLibService.characters;\n\n    /** Based on the screen size, switch from standard to one column per row */\n    this.cols = this.breakpointObserver.observe([\n      Breakpoints.XSmall,\n      Breakpoints.Small,\n      Breakpoints.Medium,\n      Breakpoints.Large,\n      Breakpoints.XLarge\n      ]).pipe(\n      map((result) => {\n        if (result.breakpoints[Breakpoints.XSmall]) {\n          return 1;\n        }\n        if (result.breakpoints[Breakpoints.Small]) {\n          return 2;\n        }\n        if (result.breakpoints[Breakpoints.Medium]) {\n          return 3;\n        }\n        if (result.breakpoints[Breakpoints.Large]) {\n          return 4;\n        }\n        if (result.breakpoints[Breakpoints.XLarge]) {\n          return 5;\n        }\n      })\n    );\n  }\n\n  public viewCharacter(card: Character) {\n    this.charactersLibService.setCurrent(card);\n    this.router.navigate(['profile']);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WebStorageModule } from 'ngx-store';\nimport { APP_INITIALIZER } from '@angular/core';\n\nimport { SharedLibModule } from 'shared-lib';\nimport { FormsLibModule } from 'forms-lib';\nimport { CharactersLibService } from './characters-lib.service';\n\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { MatToolbarModule,\n          MatButtonModule,\n          MatSidenavModule,\n          MatIconModule,\n          MatListModule,\n          MatGridListModule,\n          MatCardModule,\n          MatMenuModule } from '@angular/material';\nimport { CharactersHomeComponent } from './components/characters-home/characters-home.component';\nimport { CharactersProfileComponent } from './components/characters-profile/characters-profile.component';\nimport { CharactersCollectionComponent } from './components/characters-collection/characters-collection.component';\n\n// Use APP_INITIALIZER to load default config/projects before initializing.\n// e.g. https://stackblitz.com/edit/angular-app-initializer-load-config-mng\n// Note: Service function supplying defaults must return a Promise.\n// See: https://gist.github.com/fernandohu/122e88c3bcd210bbe41c608c36306db9\n// Export function for useFactory, as Arrow functions (Lambda) not supported.\n// See: https://github.com/angular/angular/issues/23629\n// Also add @dynamic or use variable to return Service function.\n// See: https://github.com/angular/angular/issues/19698#issuecomment-338340211\nexport function loadCharacters(chrSrv: CharactersLibService) {\n  // const init = () => prjSrv.init(); // Original arrow function for provider.\n  // Arrow function not necessary once removed from providers seciton below.\n  const init = function() {\n    console.log('Initializing Versed');\n    return chrSrv.init();\n  };\n  return init;\n}\n\n@NgModule({\n  declarations: [\n    CharactersHomeComponent,\n    CharactersProfileComponent,\n    CharactersCollectionComponent\n  ],\n  imports: [\n    CommonModule,\n    WebStorageModule,\n    FormsLibModule,\n    SharedLibModule,\n    LayoutModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatListModule,\n    MatGridListModule,\n    MatCardModule,\n    MatMenuModule\n  ],\n  exports: [\n    CharactersHomeComponent,\n    CharactersProfileComponent,\n    CharactersCollectionComponent,\n    FormsLibModule\n  ],\n  providers: [CharactersLibService,\n    {\n      provide: APP_INITIALIZER,\n      useFactory: loadCharacters,\n      deps: [CharactersLibService],\n      multi: true\n    }],\n  entryComponents: []\n})\nexport class CharactersLibModule { }\n"],"names":["tslib_1.__values"],"mappings":";;;;;;;;;;;;;;;;;AAEA;IAAA;QACE,SAAI,GAAG,IAAI,CAAC;QACZ,SAAI,GAAG,mBAAmB,CAAC;QAC3B,QAAG,GAAG,GAAG,CAAC;QACV,YAAO,GAAG,OAAO,CAAC;QAElB,aAAQ,GAAG,CAAC,SAAS,CAAC,CAAC;KACxB;IAAD,gBAAC;CAAA,IAAA;;;;;;;ICSC,8BACS,mBAAwC,EACxC,WAAwB,EACvB,cAAkC;QAFnC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,gBAAW,GAAX,WAAW,CAAa;QACvB,mBAAc,GAAd,cAAc,CAAoB;QAE1C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,gBAAgB,GAAG,IAAI,eAAe,CAAc,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,aAAa,GAAG,IAAI,eAAe,CAAY,IAAI,CAAC,CAAC;KAC3D;IAED,sBAAW,4CAAU;;;;QAArB;YACE,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC;SAC7C;;;OAAA;;;;;;IACO,4CAAa;;;;;IAArB,UAAsB,eAAe;QACnC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC5C,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;KAC7D;;;;;IAEM,2CAAY;;;;IAAnB,UAAoB,SAAU;QAC5B,IAAI,CAAC,SAAS,EAAE;YACd,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAC/B,GAAG;;;;YAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,CAAC,CAAC,GAAA,EAAC,CACrB,CAAC;SACD;QACH,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAC/B,GAAG;;;;QAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI;;;;QAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,GAAA,EAAC,GAAA,EAAC,CAC3D,CAAC;KACH;;;;;IAEM,+CAAgB;;;;IAAvB,UAAwB,IAAY;QAClC,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAC/B,GAAG;;;;QAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI;;;;QAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,KAAK,IAAI,GAAA,EAAC,GAAA,EAAC,CACjD,CAAC;KACH;IAED,sBAAW,yCAAO;;;;QAAlB;YACE,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;SAC1C;;;OAAA;;;;;IACM,yCAAU;;;;IAAjB,UAAkB,SAAoB;QACpC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;KAC7D;;;;IAEM,uCAAQ;;;IAAf,eAAoB;;;;IAEb,mCAAI;;;IAAX;QAAA,iBAQC;QAPC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;QACD,OAAO,IAAI,OAAO;;;;QAAC,UAAA,OAAO;YACxB,OAAO,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;SAC3B,EAAC,CAAC;KACJ;;;;;IACO,6CAAc;;;;IAAtB;QAAA,iBAUC;;YATO,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE;;YACrD,QAAe;QACnB,aAAa,CAAC,SAAS;;;;QAAC,UAAA,IAAI;YAC1B,QAAQ,GAAG,IAAI,CAAC;YAChB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,KAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC7B,KAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;SACjD,EAAC,CAAC;KACJ;;;;;IAEO,0CAAW;;;;IAAnB;;YACM,GAAG,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC;QACjD,IAAI,CAAC,GAAG,EAAE;YACR,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;YACrD,IAAI,CAAC,UAAU,CAAC,SAAS;;;;YAAC,UAAA,IAAI,IAAI,OAAA,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAA,EAAC,CAAC;SAClD;QACD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;KAC5C;;;;IAEM,8CAAe;;;IAAtB;;YACQ,GAAG,GAAG,IAAI,SAAS,EAAE;QAC3B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QACvC,OAAO,GAAG,CAAC;KACZ;;;;;IAEM,4CAAa;;;;IAApB,UAAqB,eAAe;;QAClC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;;YAC9C,KAAkB,IAAA,oBAAAA,SAAA,eAAe,CAAA,gDAAA,6EAAE;gBAA9B,IAAM,GAAG,4BAAA;gBACZ,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aAClC;;;;;;;;;QACD,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;KACrC;;;;;IAEM,2CAAY;;;;IAAnB,UAAoB,SAAoB;QACtC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;YACjC,eAAe,YAAQ,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAE,SAAS,EAAE;QAC1E,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;KACrC;;;;;IAEM,8CAAe;;;;IAAtB,UAAuB,SAAoB;;YACnC,eAAe,YAAQ,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC;;YACxD,KAAK,GAAG,eAAe,CAAC,SAAS;;;;QAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,GAAA,EAAC;QAC7E,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;QAC5C,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;KACrC;;;;;IAEM,8CAAe;;;;IAAtB,UAAuB,SAAoB;;YACnC,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,MAAM;;;;QAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,GAAA,EAAC;QACnG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;QAGzC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE;;gBACrB,GAAG,GAAG,IAAI,CAAC,eAAe,EAAE;YAClC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B;QACD,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;;;YAGhC,WAAmB;QACvB,IAAI,CAAC,OAAO,CAAC,SAAS;;;;QAAC,UAAA,IAAI,IAAI,OAAA,WAAW,GAAG,IAAI,CAAC,IAAI,GAAA,EAAC,CAAC;QACxD,IAAI,SAAS,CAAC,IAAI,KAAK,WAAW,EAAE;;gBAC9B,KAAc;YAClB,IAAI,CAAC,UAAU,CAAC,SAAS;;;;YAAC,UAAA,IAAI,IAAI,OAAA,KAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAA,EAAC,CAAC;YACjD,IAAI,CAAC,UAAU,CAAC,KAAG,CAAC,CAAC;SACtB;KACF;;gBAnIF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;gBAVQ,mBAAmB;gBAEnB,WAAW;gBADX,kBAAkB;;;+BAF3B;CASA;;;;;;ACTA;IAcE,iCACU,iBAAuC;QAAvC,sBAAiB,GAAjB,iBAAiB,CAAsB;QAE/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;QACpD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;KAC/C;;;;IAEF,0CAAQ;;;IAAR,eAAa;IAEb,sBAAW,4CAAO;;;;QAAlB;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;SACrB;;;;;QACD,UAAmB,SAAc;YAC/B,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;SAC9C;;;OAHA;;gBApBH,SAAS,SAAC;oBACT,QAAQ,EAAE,iBAAiB;oBAC3B,2DAA+C;;iBAEhD;;;;gBAPQ,oBAAoB;;IA4B7B,8BAAC;CAzBD;;;;;;ACLA;IAaE,oCACU,oBAA0C;QAA1C,yBAAoB,GAApB,oBAAoB,CAAsB;QAElD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;KAChD;;;;IAEH,6CAAQ;;;IAAR;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC3B;;gBAhBF,SAAS,SAAC;oBACT,QAAQ,EAAE,oBAAoB;oBAC9B,s7BAAkD;;iBAEnD;;;;gBAPQ,oBAAoB;;IAqB7B,iCAAC;CAlBD;;;;;;ACLA;IAiBE,uCACU,MAAc,EACd,kBAAsC,EACtC,oBAA0C;QAF1C,WAAM,GAAN,MAAM,CAAQ;QACd,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,yBAAoB,GAApB,oBAAoB,CAAsB;QAElD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC;;QAGvD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;YAC1C,WAAW,CAAC,MAAM;YAClB,WAAW,CAAC,KAAK;YACjB,WAAW,CAAC,MAAM;YAClB,WAAW,CAAC,KAAK;YACjB,WAAW,CAAC,MAAM;SACjB,CAAC,CAAC,IAAI,CACP,GAAG;;;;QAAC,UAAC,MAAM;YACT,IAAI,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;gBAC1C,OAAO,CAAC,CAAC;aACV;YACD,IAAI,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;gBACzC,OAAO,CAAC,CAAC;aACV;YACD,IAAI,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;gBAC1C,OAAO,CAAC,CAAC;aACV;YACD,IAAI,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;gBACzC,OAAO,CAAC,CAAC;aACV;YACD,IAAI,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;gBAC1C,OAAO,CAAC,CAAC;aACV;SACF,EAAC,CACH,CAAC;KACH;;;;;IAEM,qDAAa;;;;IAApB,UAAqB,IAAe;QAClC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;KACnC;;gBA/CF,SAAS,SAAC;oBACT,QAAQ,EAAE,uBAAuB;oBACjC,0tCAAqD;;iBAEtD;;;;gBAXQ,MAAM;gBAGO,kBAAkB;gBAC/B,oBAAoB;;;6BAS1B,KAAK;;IA2CR,oCAAC;CAjDD;;;;;;ACRA;;;;;;;;;;;;AA8BA,SAAgB,cAAc,CAAC,MAA4B;;;;QAGnD,IAAI;;;IAAG;QACX,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACnC,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC;KACtB,CAAA;IACD,OAAO,IAAI,CAAC;CACb;AAED;IAAA;KAoCoC;;gBApCnC,QAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,uBAAuB;wBACvB,0BAA0B;wBAC1B,6BAA6B;qBAC9B;oBACD,OAAO,EAAE;wBACP,YAAY;wBACZ,gBAAgB;wBAChB,cAAc;wBACd,eAAe;wBACf,YAAY;wBACZ,gBAAgB;wBAChB,eAAe;wBACf,gBAAgB;wBAChB,aAAa;wBACb,aAAa;wBACb,iBAAiB;wBACjB,aAAa;wBACb,aAAa;qBACd;oBACD,OAAO,EAAE;wBACP,uBAAuB;wBACvB,0BAA0B;wBAC1B,6BAA6B;wBAC7B,cAAc;qBACf;oBACD,SAAS,EAAE,CAAC,oBAAoB;wBAC9B;4BACE,OAAO,EAAE,eAAe;4BACxB,UAAU,EAAE,cAAc;4BAC1B,IAAI,EAAE,CAAC,oBAAoB,CAAC;4BAC5B,KAAK,EAAE,IAAI;yBACZ,CAAC;oBACJ,eAAe,EAAE,EAAE;iBACpB;;IACkC,0BAAC;CApCpC;;;;;;;;;;;;;;"}
