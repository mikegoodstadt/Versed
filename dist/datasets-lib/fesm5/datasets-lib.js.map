{"version":3,"file":"datasets-lib.js.map","sources":["ng://datasets-lib/lib/datasets-lib.service.ts","ng://datasets-lib/lib/components/admin/admin.component.ts","ng://datasets-lib/lib/datasets-lib.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError, retry } from 'rxjs/operators';\n\nconst BASE_URL = 'https://swapi.co/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatasetsLibService {\nprivate collection: string;\n\n  constructor(\n    private httpClient: HttpClient,\n    ) {}\n\n  public extractId(results: any[]): any {\n    console.log('Extracting id', results);\n    return results.map(res => {\n      const uuid = res.url.split(`${this.collection}/`)[1].split('/')[0];\n      return { uuid, ...res };\n    });\n  }\n\n  public getCharacters(path?: string): Observable<any> {\n    console.log('Get people from SWAPI...');\n    this.collection = 'people';\n    return this.getData();\n  }\n\n  public getData(): Observable<any> {\n    const path = `${BASE_URL}/${this.collection}`;\n    console.log('Path: ', path);\n    return this.httpClient.get(path)\n      .pipe(\n        map((res: any) => this.extractId(res.results)),\n        catchError(this.handleError)\n      );\n  }\n\n  private handleError(error) {\n    alert('No data returned:' + JSON.stringify(error));\n    return Observable.throw(error);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'datasets-admin',\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.scss']\n})\nexport class DatasetsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DatasetsComponent } from './components/admin/admin.component';\n\n@NgModule({\n  declarations: [\n    DatasetsComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    DatasetsComponent\n  ]\n})\nexport class DatasetsLibModule { }\n"],"names":[],"mappings":";;;;;;;;;;;;IAKM,QAAQ,GAAG,sBAAsB;AAEvC;IAME,4BACU,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;KAC1B;;;;;IAEC,sCAAS;;;;IAAhB,UAAiB,OAAc;QAA/B,iBAMC;QALC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;QACtC,OAAO,OAAO,CAAC,GAAG;;;;QAAC,UAAA,GAAG;;gBACd,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAI,KAAI,CAAC,UAAU,MAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAClE,kBAAS,IAAI,MAAA,IAAK,GAAG,EAAG;SACzB,EAAC,CAAC;KACJ;;;;;IAEM,0CAAa;;;;IAApB,UAAqB,IAAa;QAChC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QACxC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;QAC3B,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;KACvB;;;;IAEM,oCAAO;;;IAAd;QAAA,iBAQC;;YAPO,IAAI,GAAM,QAAQ,SAAI,IAAI,CAAC,UAAY;QAC7C,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC;aAC7B,IAAI,CACH,GAAG;;;;QAAC,UAAC,GAAQ,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,GAAA,EAAC,EAC9C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;KACL;;;;;;IAEO,wCAAW;;;;;IAAnB,UAAoB,KAAK;QACvB,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QACnD,OAAO,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAChC;;gBArCF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;gBARQ,UAAU;;;6BADnB;CAOA;;;;;;ACPA;IASE;KAAiB;;;;IAEjB,oCAAQ;;;IAAR;KACC;;gBAVF,SAAS,SAAC;oBACT,QAAQ,EAAE,gBAAgB;oBAC1B,8EAAqC;;iBAEtC;;;;IAQD,wBAAC;CAZD;;;;;;ACFA;IAIA;KAWkC;;gBAXjC,QAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,iBAAiB;qBAClB;oBACD,OAAO,EAAE;wBACP,YAAY;qBACb;oBACD,OAAO,EAAE;wBACP,iBAAiB;qBAClB;iBACF;;IACgC,wBAAC;CAXlC;;;;;;;;;;;;;;"}
