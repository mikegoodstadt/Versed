{"version":3,"file":"datasets-lib.js.map","sources":["ng://datasets-lib/lib/datasets-lib.service.ts","ng://datasets-lib/lib/components/admin/admin.component.ts","ng://datasets-lib/lib/datasets-lib.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError, retry } from 'rxjs/operators';\n\nconst BASE_URL = 'https://swapi.co/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatasetsLibService {\nprivate collection: string;\n\n  constructor(\n    private httpClient: HttpClient,\n    ) {}\n\n  public extractId(results: any[]): any {\n    console.log('Extracting id', results);\n    return results.map(res => {\n      const uuid = res.url.split(`${this.collection}/`)[1].split('/')[0];\n      return { uuid, ...res };\n    });\n  }\n\n  public getCharacters(path?: string): Observable<any> {\n    console.log('Get people from SWAPI...');\n    this.collection = 'people';\n    return this.getData();\n  }\n\n  public getData(): Observable<any> {\n    const path = `${BASE_URL}/${this.collection}`;\n    console.log('Path: ', path);\n    return this.httpClient.get(path)\n      .pipe(\n        map((res: any) => this.extractId(res.results)),\n        catchError(this.handleError)\n      );\n  }\n\n  private handleError(error) {\n    alert('No data returned:' + JSON.stringify(error));\n    return Observable.throw(error);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'datasets-admin',\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.scss']\n})\nexport class DatasetsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DatasetsComponent } from './components/admin/admin.component';\n\n@NgModule({\n  declarations: [\n    DatasetsComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    DatasetsComponent\n  ]\n})\nexport class DatasetsLibModule { }\n"],"names":[],"mappings":";;;;;;;;;;AAAA;MAKM,QAAQ,GAAG,sBAAsB;AAKvC,MAAa,kBAAkB;;;;IAG7B,YACU,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;KAC1B;;;;;IAEC,SAAS,CAAC,OAAc;QAC7B,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;QACtC,OAAO,OAAO,CAAC,GAAG;;;;QAAC,GAAG;;kBACd,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAClE,uBAAS,IAAI,IAAK,GAAG,EAAG;SACzB,EAAC,CAAC;KACJ;;;;;IAEM,aAAa,CAAC,IAAa;QAChC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QACxC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;QAC3B,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;KACvB;;;;IAEM,OAAO;;cACN,IAAI,GAAG,GAAG,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;QAC7C,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC;aAC7B,IAAI,CACH,GAAG;;;;QAAC,CAAC,GAAQ,KAAK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,EAAC,EAC9C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;KACL;;;;;;IAEO,WAAW,CAAC,KAAK;QACvB,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QACnD,OAAO,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAChC;;;YArCF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;YARQ,UAAU;;;;;;;;ACDnB,MAOa,iBAAiB;IAE5B,iBAAiB;;;;IAEjB,QAAQ;KACP;;;YAVF,SAAS,SAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,8EAAqC;;aAEtC;;;;;;;;;ACND,MAea,iBAAiB;;;YAX7B,QAAQ,SAAC;gBACR,YAAY,EAAE;oBACZ,iBAAiB;iBAClB;gBACD,OAAO,EAAE;oBACP,YAAY;iBACb;gBACD,OAAO,EAAE;oBACP,iBAAiB;iBAClB;aACF;;;;;;;;;;;;;;;"}
